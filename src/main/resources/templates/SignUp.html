<!DOCTYPE html>
<html>
<head>
    <title>SignUp</title>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>

    <!--For Spring-->
    <link href="/webjars/bootstrap/css/bootstrap.min.css" rel="stylesheet"  />
    <script src="/webjars/jquery/jquery.min.js"></script>
    <script src="/webjars/sockjs-client/sockjs.min.js"></script>
    <script src="/webjars/stomp-websocket/stomp.min.js"></script>

    <!--css and js for this page-->
    <script src="js/signupConnector.js"></script>
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="css/Universal.css" />

    <!--neccessary for autocomplete-->
    <script src="//code.jquery.com/jquery-1.12.4.js"></script>
    <script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css" />

</head>

  <body onload="checkUser()">
    <div class="Login">
    </div>
    <div id = "navTest">
    </div>
    <div class="content" >
      <div class="box">
        <p class = "whiteStuff title" ><strong>Cy-Planner SignUp</strong></p> <br/>
        <form class="">
          <span class = "whiteStuff" >Username:</span> <input id = "userName" class = "input" type="text" name="" value=""/> <br/>
          <span class = "whiteStuff" >Email:</span> <input id = "email" class = "input" type="text" name="" value=""/> <br/>
          <span class = "whiteStuff" >Password:</span> <input id = "password" class = "input" type="password" name="" value=""/> <br/>
          <span class = "whiteStuff" >Confirm Password:</span> <input id = "conPass" class = "input" type="password" name="" value=""/> <br/><br/>
          <span class = "whiteStuff" >Completed Courses:</span> <input id = "completed" class = "input" type="text" name="" value=""/>
          <button id = "add" type="button" name="add">add</button><br/>

        </form> <br/>
        <div class="scroll">
          <table style= "width:95%"  id = "table" >
            <tr>
              <th colspan= "3" >Courses</th>
            </tr>

          </table>


        </div> <br/>

        <p class="failure whtiteStuff">

        </p> <br/>
        <button id = "submit" class = "button sub" type="button" name="button">Sign-Up</button>
      </div>

    </div>

    <script src="bootstrap/js/bootstrap.min.js"></script>
    <script src="js/navbar.js"></script>
    <script >
      $(document).ready(function () {
        $(".Login").html(getLogin());
        $("#navTest").html(getNav());
        // $("#submit").click(function () {credentialCheck()});
      });

      function credentialCheck(){

        if(!alphaNumCheck($("#userName").val())){
          $(".failure").html("Invalid Username Format");
          return false;
        }
        if(!emailCheck($("#email").val())){
          $(".failure").html("Invalid Email Format");
          return false;
        }
        if(!passCheck($("#password").val(), $("#conPass").val())){
          $(".failure").html("Password mus not be empty");
          return false;
        }
        if(!samePass($("#password").val(), $("#conPass").val())){
          $(".failure").html("Passwords must match");
          return false;
        }
        return true;
      }
      function samePass(pass, conPass){
        if(pass == conPass) return true;
        else return false;
      }

      function passCheck(pass, conPass){
        if(pass == "" || conPass == "") return false;
        else return true;
      }
      function emailCheck(email) {
        atSplit = email.split('@');
        var valid = alphaNumCheck(atSplit[0]);
        if (atSplit.length == 2) {
          if(valid){
            periodSplit = atSplit[1].split('.');
            valid = alphaNumCheck(periodSplit[0] + periodSplit[1]);
            if (periodSplit.length == 2) {
              if(valid)return true;
            }
          }
        }
        return false;
      }
      function alphaNumCheck(entry) {
        let regex = /^[a-zA-Z0-9]+$/i;
        var valid = entry.match(regex);
        if (entry != null)
          if(valid) return true;
        else return false;
      }
    </script>




    <style media="screen">
      .content{
        padding-top: 10%;
        padding-left: 37%;
      }
      .box{
        margin-right: 50%;
        padding-left: 2%;
        padding-right: 2%;
        padding-top: 2%;
        padding-bottom: 2%;
        background-color:  #c8102e;
        background-color:  #F1BE48;
        border: 2px solid #524727;

      }

      .title{
        margin-left: 35%;
      }
      #userName{
        margin-left: 13.50%;
      }
      #email{
        margin-left: 20.19%;
      }
      #password{
        margin-left: 14.24%;
      }
      #conPass{
        margin-left: 2.10%;
      }

      table, th, td {
        margin-top: 1%;
        margin-right: 10%;
        margin-bottom: 1%;
        text-align: center;
      }

      .scroll {
          top: 5%;
          bottom: 5%;
          left: 0%;
          overflow-y:scroll;
          margin-top: 1%;
      }

    </style>

  </body>

</html>
